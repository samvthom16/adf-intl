function langSwitcher(){jQuery("#lang-trigger").click(function(e){jQuery(this).siblings("ul").slideToggle(),jQuery(this).parent().toggleClass("expanded"),e.preventDefault()})}function showPetition(){jQuery('#petition-trigger, #sticky-petition, a[href="#sign"]').click(function(e){jQuery(".overlay").addClass("overlay-show"),jQuery(this).addClass("overlay-showing"),e.preventDefault()})}function modalVideo(){jQuery("a[data-video]").click(function(e){var t=jQuery(this).data("video"),i='<div class="fitvids"><iframe width="560" height="315" src="https://www.youtube.com/embed/'+t+'?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe></div>';jQuery(".overlay-video").html(i),jQuery(".fitvids").fitVids(),jQuery(".overlay").addClass("video-show"),e.preventDefault()})}function closeModal(){jQuery(document).keyup(function(e){27===e.keyCode&&(jQuery(".overlay").removeClass("overlay-show"),jQuery(".overlay").removeClass("video-show"),jQuery(".overlay-video").html(""),jQuery("#petition-trigger, #sticky-petition").removeClass("overlay-showing"))}),jQuery(".overlay-close, .overlay-hide").click(function(e){jQuery(".overlay").removeClass("overlay-show"),jQuery(".overlay").removeClass("video-show"),jQuery(".overlay-video").html(""),jQuery("#petition-trigger, #sticky-petition").removeClass("overlay-showing"),e.preventDefault()})}function triggerAbout(){jQuery("#about-trigger").click(function(e){jQuery(this).toggleClass("expanded"),jQuery(".about-adf").slideToggle(),e.preventDefault()})}function scrollSticky(){if(jQuery("#petition-trigger").length){var e=jQuery("#petition-trigger").offset().top;jQuery(window).scroll(function(){var t=jQuery("#petition-trigger").offset().top,i=jQuery("#petition-trigger").outerHeight(),o=jQuery(window).height(),r=jQuery(this).scrollTop()-o;r>t-o&&t>r&&r+o>t+i&&jQuery("#sticky-petition").addClass("sticky"),jQuery(this).scrollTop()<e&&jQuery("#sticky-petition").removeClass("sticky")})}else jQuery("#sticky-petition").length&&jQuery("#sticky-petition").addClass("sticky")}function smoothscroll(){jQuery('a[href*="#"]').not('[href="#"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=jQuery(this.hash);t=t.length?t:jQuery("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),jQuery("html, body").animate({scrollTop:t.offset().top-20},1e3,function(){var e=jQuery(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}})}function showDeclaration(){jQuery("#trigger-declaration").click(function(e){e.preventDefault(),jQuery(".full-declaration").slideDown(),jQuery(this).css("display","none"),jQuery("#declaration").css("padding-bottom",0)})}function hideDeclaration(){jQuery("#hide-declaration").click(function(e){e.preventDefault(),jQuery(".full-declaration").slideUp(),jQuery("#trigger-declaration").css("display","inline-block"),jQuery("#declaration").css("padding-bottom","4em")})}function moreStories(){jQuery("#show_more").click(function(e){e.preventDefault(),jQuery(this).css("visibility","hidden"),jQuery("#more-story").slideDown()})}function hideCookie(){Cookies.get("hideBanner")&&jQuery(".cookie-bar").css("display","none"),jQuery(".close-cookie").click(function(e){e.preventDefault(),jQuery(".cookie-bar").css("display","none"),Cookies.set("hideBanner","true",{expires:1})})}!function($){"use strict";$.fn.fitVids=function(e){var t={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"+"</style>",i.appendChild(o.childNodes[1])}return e&&$.extend(t,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];t.customSelector&&e.push(t.customSelector);var i=".fitvidsignore";t.ignore&&(i=i+", "+t.ignore);var o=$(this).find(e.join(","));o=o.not("object object"),o=o.not(i),o.each(function(){var e=$(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var t="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),o=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),r=t/o;if(!e.attr("name")){var n="fitvid"+$.fn.fitVids._count;e.attr("name",n),$.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),e.removeAttr("height").removeAttr("width")}})})},$.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=i,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var o in i)t[o]=i[o]}return t}function t(i){function o(t,r,n){var a;if("undefined"!=typeof document){if(arguments.length>1){if(n=e({path:"/"},o.defaults,n),"number"==typeof n.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*n.expires),n.expires=s}n.expires=n.expires?n.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=i.write?i.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var l in n)n[l]&&(c+="; "+l,!0!==n[l]&&(c+="="+n[l]));return document.cookie=t+"="+r+c}t||(a={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,f=0;f<d.length;f++){var h=d[f].split("="),y=h.slice(1).join("=");this.json||'"'!==y.charAt(0)||(y=y.slice(1,-1));try{var p=h[0].replace(u,decodeURIComponent);if(y=i.read?i.read(y,p):i(y,p)||y.replace(u,decodeURIComponent),this.json)try{y=JSON.parse(y)}catch(e){}if(t===p){a=y;break}t||(a[p]=y)}catch(e){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,i){o(t,"",e(i,{expires:-1}))},o.withConverter=t,o}return t(function(){})}),jQuery(document).ready(function(){langSwitcher(),triggerAbout(),closeModal(),showPetition(),scrollSticky(),jQuery(".fitvids").fitVids(),smoothscroll(),showDeclaration(),hideDeclaration(),moreStories(),hideCookie(),modalVideo()});