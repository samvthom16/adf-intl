function topDropdowns(){jQuery(".with-sub > a").click(function(e){jQuery(this).parent(".with-sub").is(".visible")?jQuery(".with-sub").removeClass("visible"):(jQuery(".with-sub").removeClass("visible"),jQuery(this).parent(".with-sub").addClass("visible")),e.preventDefault(),e.stopPropagation()}),jQuery(document).on("click",function(){jQuery(".with-sub").removeClass("visible")})}function navOpen(){jQuery(".nav-toggle").click(function(e){e.preventDefault(),jQuery(".site-header").addClass("show-nav")})}function navClose(){jQuery(".nav-close").click(function(e){e.preventDefault(),jQuery(".site-header").removeClass("show-nav")})}function dropdowns(){jQuery(".dd-trigger").click(function(e){e.preventDefault(),jQuery(this).parent(".dropdown").is(".open")?(jQuery(".dropdown").removeClass("open"),jQuery(this).siblings("ul").slideUp(200)):(jQuery(".dropdown").removeClass("open"),jQuery(this).parent(".dropdown").addClass("open"),jQuery(this).siblings("ul").slideDown(200)),e.preventDefault(),e.stopPropagation()}),jQuery(document).on("click touchend",function(){jQuery(".open ul").slideUp(),jQuery(".dropdown").removeClass("open")})}function tweetButton(){var e=window.location.href;jQuery(".entry-content blockquote").each(function(){text=encodeURIComponent(jQuery(this).text()),twitter='<div class="tweet"><a href = "https://twitter.com/share?ref_src=twsrc%5Etfw" data-text="'+jQuery(this).text()+'" data-url="'+e+'" data-via="adfintl" class="twitter-share-button">Tweet</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div>',jQuery(this).append(twitter)})}function catDropdown(){jQuery(".cat-dropdown").click(function(e){e.preventDefault(),jQuery(this).parent(".archive-dropdown").toggleClass("expanded")})}function tabSelection(){jQuery(".tabs").on("_after",function(){jQuery(this).children("ul").children("li:last").is(".active")?jQuery(this).children("ul").children("li:first").addClass("visible"):jQuery(this).children("ul").children("li:first").removeClass("visible")})}function pictureGallery(){jQuery(".pic-list a").click(function(e){e.preventDefault(),src=jQuery(this).data("src"),caption=jQuery(this).data("caption"),jQuery(this).parents(".picture-gallery").find(".pic-main img").attr("src",src),caption?jQuery(this).parents(".picture-gallery").find(".pic-caption").text(caption):jQuery(this).parents(".picture-gallery").find(".pic-caption").text("")})}function hideCookie(){Cookies.get("hideBanner")&&jQuery(".cookie-bar").css("display","none"),jQuery(".close-cookie").click(function(e){e.preventDefault(),jQuery(".cookie-bar").css("display","none"),Cookies.set("hideBanner","true",{expires:1})})}function articleHeights(){var e=0,t=0;jQuery(".article-list").each(function(){var e=0,t=0;jQuery("li a",this).each(function(){(e=jQuery(this).outerHeight())>t&&(t=e)}),jQuery("li a",this).css("height",t)})}function boxHeight(){var e=0,t=0;jQuery(".three-boxes").each(function(){var e=0,t=0;jQuery("li",this).each(function(){(e=jQuery(this).outerHeight())>t&&(t=e)}),jQuery("li",this).css("height",t)})}function smoothscroll(){jQuery('a[href*="#section"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=jQuery(this.hash);t=t.length?t:jQuery("[name="+this.hash.slice(1)+"]"),t.length&&(e.preventDefault(),jQuery("html, body").animate({scrollTop:t.offset().top-20},1e3,function(){var e=jQuery(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}})}function modalVideo(){jQuery("a[data-video]").click(function(e){var t=jQuery(this).data("video"),i='<div class="fitvids"><iframe width="560" height="315" src="https://www.youtube.com/embed/'+t+'?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe></div>';jQuery(".overlay-content").html(i),jQuery(".fitvids").fitVids(),jQuery(".overlay-content").addClass("overlay-show"),e.preventDefault()})}function closeModal(){jQuery(".overlay").click(function(){return jQuery(".overlay-content").removeClass("overlay-show"),jQuery(".overlay-content").html(""),!1}),jQuery(document).keyup(function(e){27===e.keyCode&&(jQuery(".overlay-content").removeClass("overlay-show"),jQuery(".overlay-content").html(""))})}function subscribeLabel(){jQuery(".newsletter .email-field input").keyup(function(e){jQuery(this).parents(".ginput_container").siblings(".gfield_label").css("display","none")})}function toTop(){var e=jQuery("#content").offset().top,t=null;jQuery(window).scroll(function(){t||(t=setTimeout(function(){console.log("scroll"),clearTimeout(t),t=null,jQuery(window).scrollTop()>=e?jQuery("#trigger-top").addClass("active"):jQuery("#trigger-top").removeClass("active")},250))})}function showModule(){jQuery(".show-hidden").click(function(e){jQuery(this).parents('[id*="section"]').next(".hidden-module").slideToggle(),e.preventDefault()})}!function($){"use strict";$.fn.fitVids=function(e){var t={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"+"</style>",i.appendChild(o.childNodes[1])}return e&&$.extend(t,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];t.customSelector&&e.push(t.customSelector);var i=".fitvidsignore";t.ignore&&(i=i+", "+t.ignore);var o=$(this).find(e.join(","));o=o.not("object object"),o=o.not(i),o.each(function(){var e=$(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var t="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),o=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),n=t/o;if(!e.attr("name")){var r="fitvid"+$.fn.fitVids._count;e.attr("name",r),$.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),e.removeAttr("height").removeAttr("width")}})})},$.fn.fitVids._count=0}(window.jQuery||window.Zepto),function($,window,undefined){"use strict";$.fn.tabslet=function(options){var defaults={mouseevent:"click",activeclass:"active",attribute:"href",animation:!1,autorotate:!1,deeplinking:!1,pauseonhover:!0,delay:2e3,active:1,container:!1,controls:{prev:".prev",next:".next"}},options=$.extend(defaults,options);return this.each(function(){function deep_link(){var e=[];elements.find("a").each(function(){e.push($(this).attr($this.opts.attribute))});var t=$.inArray(location.hash,e);return t>-1?t+1:$this.data("active")||options.active}var $this=$(this),_cache_li=[],_cache_div=[],_container=options.container?$(options.container):$this,_tabs=_container.find("> div");_tabs.each(function(){_cache_div.push($(this).css("display"))});var elements=$this.find("> ul > li"),i=options.active-1;if(!$this.data("tabslet-init")){$this.data("tabslet-init",!0),$this.opts=[],$.map(["mouseevent","activeclass","attribute","animation","autorotate","deeplinking","pauseonhover","delay","container"],function(e,t){$this.opts[e]=$this.data(e)||options[e]}),$this.opts.active=$this.opts.deeplinking?deep_link():$this.data("active")||options.active,_tabs.hide(),$this.opts.active&&(_tabs.eq($this.opts.active-1).show(),elements.eq($this.opts.active-1).addClass(options.activeclass));var fn=eval(function(e,t){var o=t?elements.find("a["+$this.opts.attribute+'="'+t+'"]').parent():$(this);o.trigger("_before"),elements.removeClass(options.activeclass),o.addClass(options.activeclass),_tabs.hide(),i=elements.index(o);var n=t||o.find("a").attr($this.opts.attribute);return $this.opts.deeplinking&&(location.hash=n),$this.opts.animation?_container.find(n).animate({opacity:"show"},"slow",function(){o.trigger("_after")}):(_container.find(n).show(),o.trigger("_after")),!1}),init=eval("elements."+$this.opts.mouseevent+"(fn)"),t,forward=function(){i=++i%elements.length,"hover"==$this.opts.mouseevent?elements.eq(i).trigger("mouseover"):elements.eq(i).click(),$this.opts.autorotate&&(clearTimeout(t),t=setTimeout(forward,$this.opts.delay),$this.mouseover(function(){$this.opts.pauseonhover&&clearTimeout(t)}))};$this.opts.autorotate&&(t=setTimeout(forward,$this.opts.delay),$this.hover(function(){$this.opts.pauseonhover&&clearTimeout(t)},function(){t=setTimeout(forward,$this.opts.delay)}),$this.opts.pauseonhover&&$this.on("mouseleave",function(){clearTimeout(t),t=setTimeout(forward,$this.opts.delay)}));var move=function(e){"forward"==e&&(i=++i%elements.length),"backward"==e&&(i=--i%elements.length),elements.eq(i).click()};$this.find(options.controls.next).click(function(){move("forward")}),$this.find(options.controls.prev).click(function(){move("backward")}),$this.on("show",function(e,t){fn(e,t)}),$this.on("next",function(){move("forward")}),$this.on("prev",function(){move("backward")}),$this.on("destroy",function(){$(this).removeData().find("> ul li").each(function(e){$(this).removeClass(options.activeclass)}),_tabs.each(function(e){$(this).removeAttr("style").css("display",_cache_div[e])})})}})},$(document).ready(function(){$('[data-toggle="tabslet"]').tabslet()})}(jQuery),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=i,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var o in i)t[o]=i[o]}return t}function t(i){function o(t,n,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},o.defaults,r),"number"==typeof r.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(n),/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var u in r)r[u]&&(c+="; "+u,!0!==r[u]&&(c+="="+r[u]));return document.cookie=t+"="+n+c}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,h=0;h<l.length;h++){var p=l[h].split("="),f=p.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var v=p[0].replace(d,decodeURIComponent);if(f=i.read?i.read(f,v):i(f,v)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===v){s=f;break}t||(s[v]=f)}catch(e){}}return s}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,i){o(t,"",e(i,{expires:-1}))},o.withConverter=t,o}return t(function(){})}),jQuery(document).ready(function(){var e=jQuery(window).width();toTop(),smoothscroll(),hideCookie(),topDropdowns(),navOpen(),navClose(),dropdowns(),jQuery(".fitvids").fitVids(),tweetButton(),catDropdown(),jQuery(".tabs").tabslet(),tabSelection(),pictureGallery(),modalVideo(),closeModal(),subscribeLabel(),showModule()}),jQuery(window).load(function(){articleHeights(),boxHeight()}),jQuery(window).resize(function(){var e=jQuery(window).width()});